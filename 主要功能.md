# ***\*订单管理系统需求文档（SRS）\****

***\*文档版本\****：V6.0

***\*文档状态\****：正式发布

***\*编制日期\****：2024 年 XX 月 XX 日

***\*编制人\****：XXX

***\*审批人\****：XXX

## ***\*前言\****

### ***\*1. 文档目的\****

本文档详细定义订单管理系统的业务范围、功能需求、非功能需求、数据规范及验收标准，作为系统设计、开发、测试、部署与验收的核心依据，确保系统满足 “订单全生命周期管理、AI 智能查询、多维度统计分析” 等业务目标，支撑平台 / 服务商订单高效流转。

### ***\*2. 修订历史\****

 

| 版本 | 修订日期   | 修订内容概述                                                 | 修订人 |
| ---- | ---------- | ------------------------------------------------------------ | ------ |
| V1.0 | 2024-XX-XX | 初稿：明确订单来源（平台 / 服务商）、订单方式（借码 / 实供）核心流程，定义基础功能模块 | XXX    |
| V2.0 | 2024-XX-XX | 新增区域服务商判断、OCR 订单报备录入与校验功能，补充客户管理模块 | XXX    |
| V3.0 | 2024-XX-XX | 完善价格体系（国网价 / 区域价 / 服务商价 / 结算价），细化销售 / 采购订单金额计算逻辑 | XXX    |
| V4.0 | 2024-XX-XX | 新增采购对账单生成与管理功能，支持按时间 / 供应商筛选并导出对账单 | XXX    |
| V5.0 | 2024-XX-XX | 补充订单信息维护（发货 / 发票 / 回款 / 付款）权限控制、合同模板自适应配置、审批流功能 | XXX    |
| V6.0 | 2024-XX-XX | 新增 AI 智能查询模块（商品报价 / 订单明细 / 统计分析），支持独立运行与嵌入系统双模式 | XXX    |

### ***\*3. 适用范围\****

本文档适用于订单管理系统的所有相关方，包括：

• 产品团队：用于功能设计与原型输出；

• 开发团队：用于技术架构设计、接口开发与代码实现；

• 测试团队：用于编写测试用例、执行功能与性能测试；

• 运营 / 财务团队：用于理解系统功能与业务流程，指导后续使用。

## ***\*目录\****

1. [文档概述](#一-文档概述)

1.1 业务范围

1.2 术语定义

2. [业务](#二-业务需求)[需求](#二-业务需求)

2.1 核心业务流程

2.2 核心业务规则

3. [功](#三-功能需求)[能需求](#三-功能需求)

3.1 基础配置管理模块

3.2 订单来源管理模块

3.3 销售订单管理模块

3.4 采购合同管理模块

3.5 客户管理模块

3.6 流程监控与报表模块

4. [非功](#四-非功能需求)[能需求](#四-非功能需求)

4.1 性能需求

4.2 安全性需求

4.3 易用性需求

4.4 可扩展性需求

4.5 权限需求

4.6 通知需求

4.7 权限安全性需求


5. [数据](#五-数据需求)[需求](#五-数据需求)

5.1 核心数据实体

5.2 数据关系

5.3 统计视图设计


6. [附录](#六-附录)

6.1 业务流程图（附图）

6.2 需求优先级

6.3 验收标准

## ***\*一、文档概述\****

### ***\*1.1 业务范围\****

系统覆盖***\*订单全生命周期管理\****，从订单来源接入（平台手动录入 / 服务商报备）、订单生成（销售 / 采购）、信息维护（发货 / 发票 / 回款 / 付款）、审批流转到统计分析（看板 / 报备统计 / AI 查询），核心业务对象包括：

• 订单类型：平台订单（仅实供）、服务商订单（借码 / 实供）；

• 角色：超级管理员、管理员、部门经理、员工、财务经理、服务商；

• 核心数据：商品价格（国网价 / 区域价 / 服务商价 / 结算价）、订单信息、客户信息、对账单、审批记录。

### ***\*1.2 术语定义\****

 

| 术语            | 定义说明                                                     |
| --------------- | ------------------------------------------------------------ |
| 借码订单        | 订单金额按 “国网价 × 数量 × 点位” 计算，服务商无需实际供货，仅提供 “码资源” 的订单类型 |
| 实供订单        | 订单金额按 “区域价（区域订单）/ 服务商价（非区域订单）× 数量” 计算，服务商需实际供货的订单类型 |
| 区域服务商      | 限定覆盖特定区域（如华东区、广东省），可适用区域专属价格 / 点位的服务商 |
| 国网价          | 国家电网 / 官方发布的产品基准价格，作为借码订单金额计算基础  |
| 区域价          | 按区域制定的产品销售价格，仅用于实供方式下的区域订单         |
| 服务商价        | 针对服务商的协议销售价格，用于实供方式下的非区域订单         |
| 结算价          | 与供应商的实际采购结算价格，用于实供订单的采购金额计算       |
| 唯一商品型号    | 系统内商品的唯一标识（与商品表product_sku字段一致），作为 AI 查询商品报价的核心匹配条件 |

## ***\*二、业务需求\****

### ***\*2.1 核心业务流程\****

#### ***\*2.1.1 服务商订单（报备管理）流程（含区域判断 + 文本识别录入 + 审批流）\****

1. 服务商发起报备：选择订单方式（借码 / 实供），上传订单凭证（支持文本识别客户、商品、国网价等信息）；

报备信息字段：

![img](file:///C:\Users\Lotus\AppData\Local\Temp\ksohtml44088\wps1.jpg) 

（文字版：

报备公司名称：

PR单号：

报备商品名称：

报备商品数量：

报备商品总金额：

下单平台：

是否实际拿货：

采购单位名称：

注：无订单号预报备项目2天内有效，过期未提供单号，请重新报备，如没有重新报备，清单判定无效报备。）

2. 系统校验：自动校验 “客户是否存在、商品是否在存在、国网价 × 数量 = 总金额”，校验不通过需修正；
3. 区域判断：校验通过后，判断服务商是否为区域服务商；
4. 报备审核：服务商订单需要经过人工审核，审核通过进入订单生成环节；
5. 销售订单生成：

◦ 借码：弹窗手动配置点位，金额 = 国网价 × 数量 × 点位；

◦ 实供：区域订单用区域价，非区域订单用服务商价，金额 = 对应价格 × 数量；

1. 订单流转：订单生效后（自动创建免审核，手动创建需审核通过），按配置模式（自动 / 手动）流转至财务经理；
2. 采购订单生成：点击销售订单 “生成采购订单”，借码订单手动配置点位，实供订单用结算价，金额 = 对应规则 × 数量；
3. 财务处理：财务经理维护发票 / 回款（销售）、发票 / 付款（采购）信息，处理完成后订单字段状态自动更新。



报备管理：

![image-20251031140405650](C:\Users\Lotus\AppData\Roaming\Typora\typora-user-images\image-20251031140405650.png)

销售合同（只保留销售未回款）

![image-20251031140500441](C:\Users\Lotus\AppData\Roaming\Typora\typora-user-images\image-20251031140500441.png)



采购合同（只保留采购未付款）

![image-20251031140553286](C:\Users\Lotus\AppData\Roaming\Typora\typora-user-images\image-20251031140553286.png)



销售合同（总）

![image-20251031140610874](C:\Users\Lotus\AppData\Roaming\Typora\typora-user-images\image-20251031140610874.png)



采购合同（总）

![image-20251031140640146](C:\Users\Lotus\AppData\Roaming\Typora\typora-user-images\image-20251031140640146.png)





#### ***\*2.1.2 平台订单流程\****

1. 手动录入：录入平台订单信息（平台名称、国网价、数量、收货信息等）；
2. 销售订单生成：固定为实供方式，金额 = 平台派单金额（国网价 × 数量 × 平台固定点位）；

点位逻辑：可按平台和平台指定区域、也可按品牌、品牌型号设置点位，自由组合配置点位，如齐心，正常是5个点，齐心浙江区域是4个点。齐心浙江AAA品牌3.5个点。

3. 订单流转：自动流转至下一环节（默认自动模式）；
4. 采购订单生成：手动录入或调用预配置结算价，金额 = 结算价 × 数量；
5. 运营处理：维护发票 / 付款信息，完成后更新订单状态。









#### ***\*2.1.3 采购对账单流程\****

1. 筛选采购订单：按时间范围（必填）、供应商名称、订单状态（已付款 / 已完成）筛选目标订单；
2. 生成对账单：系统自动汇总筛选结果，生成含 “供应商信息、订单明细、总金额、对账状态” 的对账单；
3. 对账单管理：在 “对账单管理” 模块查看 / 导出对账单，更新对账状态（待对账 / 已对账 / 有差异）并记录差异原因。

#### ***\*2.1.4 AI 智能查询流程\****

1. 模式选择：通过系统首页独立入口（独立模式）或业务页面 “AI 查询” 按钮（嵌入模式）发起查询；
2. 需求输入：输入商品型号（查报价）、供应商 / 平台信息（查订单明细）或自然语言统计需求（如 “近 3 个月借码利润”）；
3. 结果返回：AI 匹配系统数据，按规则展示结果（报价列表、订单卡片 / 表格、统计图表）；
4. 后续操作：支持导出结果、同步至当前业务页面（如报价填充至订单表单）、查看历史查询记录。

#### ***\*2.1.5\**** ***\*维护客户的开票信息，财务可以根据订单来开票\****

### ***\*2.2 核心业务规则\****

**1.** ***\*价格调用规则\****：

◦ 销售订单（实供）：区域订单优先调用 “区域价”，非区域订单调用 “服务商价”（优先服务商专属价，无则用默认价）；

◦ 采购订单（实供）：统一调用 “结算价”；

◦ 借码订单（销售 / 采购）：均以 “国网价” 为基础，点位支持手动配置（销售与采购点位可不同）。

**1.** ***\*区域权限规则\****：

◦ 区域服务商仅可报备其 “区域范围” 内的订单，非区域服务商仅可报备系统配置的 “允许区域” 订单；

◦ 区域服务商可适用区域专属点位（优先级高于通用点位）。

**1.** ***\*OCR 校验规则\****：

◦ OCR 识别后必须通过 “客户存在性、商品存在性、价格计算正确性” 三重校验，否则需修正后重新提交；

◦ 识别置信度＜90% 时，提示 “部分信息模糊，请人工确认”。

**1.** ***\*订单创建与审批规则\****：

◦ 自动创建：通过 “点击生成” 按钮触发（如服务商报备通过后生成销售订单），免审核直接生效；

◦ 手动创建：通过表单录入触发（如平台订单手动录入），需按配置审批流审核（如 “运营→部门经理→财务”），审核通过后生效。

**1.** ***\*订单流转规则\****：

◦ 流转时机：订单生效后触发，自动模式默认流转至财务经理，手动模式可指定运营经理 / 管理员；

◦ 操作限制：维护 “发票、回款（销售）、付款（采购）” 信息，可设置指定角色权限。

**1.** ***\*对账单生成规则\****：

◦ 筛选条件支持多维度组合（时间范围必填，其他可选）；

◦ 对账单金额需与筛选订单总金额一致，差异项需标注原因；

◦ 对账单编号格式：BILL + 年份 + 月份 + 序号（如 BILL202409001）。


## ***\*三、功能需求\****

### ***\*3.1 基础配置管理模块\****

#### ***\*3.1.1 价格配置功能\****

 

| 功能 ID  | 功能名称     | 功能描述                                                     | 输入                           | 输出                          |
| -------- | ------------ | ------------------------------------------------------------ | ------------------------------ | ----------------------------- |
| CF-PR-01 | 多价格维护   | 为每个产品配置 “国网价、区域价（多区域）、服务商价（默认 + 专属）、结算价” | 产品 SKU、价格类型、金额、区域 | 价格配置表（支持查看 / 编辑） |
| CF-PR-02 | 批量价格调整 | 支持按 “产品类别 + 区域” 批量调整区域价（如华东区所有产品上浮 5%） | 产品类别、区域、调整比例       | 批量更新后的价格表            |
| CF-PR-03 | 价格生效管理 | 设置价格生效 / 失效时间，支持未来价格预配置                  | 产品 SKU、价格类型、时间范围   | 带时间标记的价格配置记录      |

#### ***\*3.1.2 点位配置功能\****

 

| 功能 ID  | 功能名称     | 功能描述                                                     | 输入                      | 输出             |
| -------- | ------------ | ------------------------------------------------------------ | ------------------------- | ---------------- |
| CF-PO-01 | 基础点位配置 | 配置平台订单固定点位、服务商借码订单默认点位（按服务商 / 产品类别区分） | 订单来源、服务商 ID、点位 | 点位配置表       |
| CF-PO-02 | 点位权限控制 | 配置点位修改权限（如超出 ±5% 需上级审批）                    | 权限角色、点位波动范围    | 点位审批规则生效 |

#### ***\*3.1.3 服务商配置功能\****

 

| 功能 ID  | 功能名称       | 功能描述                                                     | 输入                          | 输出               |
| -------- | -------------- | ------------------------------------------------------------ | ----------------------------- | ------------------ |
| CF-SP-01 | 服务商信息维护 | 维护服务商基础信息（名称、联系人、是否区域服务商、区域范围） | 服务商信息、区域范围          | 服务商信息表       |
| CF-SP-02 | 服务商权限配置 | 配置服务商可报备的产品范围、允许区域（非区域服务商）         | 服务商 ID、产品列表、允许区域 | 服务商权限配置记录 |

#### ***\*3.1.4 合同模板配置功能\****

 

| 功能 ID   | 功能名称       | 功能描述                                                     | 输入                         | 输出                       |
| --------- | -------------- | ------------------------------------------------------------ | ---------------------------- | -------------------------- |
| CF-TPL-01 | 模板创建与编辑 | 可视化编辑销售 / 采购合同模板，调整字段位置、字体样式，预览时提示 “是否跨页” | 模板类型、字段位置、字体样式 | 保存的合同模板（默认启用） |
| CF-TPL-02 | 模板自适应校验 | 模拟 15 行商品明细，校验模板是否在 1 页内，不满足时提示优化建议（如压缩行高） | 模拟商品明细数据（≥10 行）   | 校验结果 + 优化建议        |
| CF-TPL-03 | 模板启用与停用 | 切换模板 “启用 / 停用” 状态，同一类型仅 1 个模板可启用，停用前需确认无未生成订单 | 模板状态切换操作             | 模板状态更新 + 变更日志    |

#### ***\*3.1.5 审批流配置功能\****

 

| 功能 ID   | 功能名称          | 功能描述                                                     | 输入                          | 输出                           |
| --------- | ----------------- | ------------------------------------------------------------ | ----------------------------- | ------------------------------ |
| CF-APP-01 | 审批流定义配置    | 为手动创建的销售 / 采购订单定义审批流，配置审批节点、角色、顺序及超时提醒 | 订单类型、审批节点、超时时长  | 审批流配置 + 预览图            |
| CF-APP-02 | 审批角色分配      | 为每个审批节点分配角色（支持多角色），如 “节点 1：运营主管，节点 2：财务” | 审批流 ID、节点序号、审批角色 | 节点 - 角色关联记录 + 权限生效 |
| CF-APP-03 | 审批流启用 / 停用 | 切换审批流 “启用 / 停用” 状态，同一订单类型仅 1 个审批流可启用 | 审批流状态切换操作            | 审批流状态更新 + 变更日志      |

#### ***\*3.1.6 角色权限配置功能\****

 

| 功能 ID   | 功能名称       | 功能描述                                                     | 输入                             | 输出                         |
| --------- | -------------- | ------------------------------------------------------------ | -------------------------------- | ---------------------------- |
| CF-ROL-01 | 角色定义维护   | 新增 / 修改 / 删除角色（默认含超级管理员等 5 类角色，不可删除），设置角色状态 | 角色名称、描述、状态             | 角色列表 + 状态变更日志      |
| CF-ROL-02 | 权限分配配置   | 按 “角色 - 功能 - 操作” 分配权限（如 “财务经理 - 销售订单 - 回款维护 - 新增”） | 角色 ID、权限项、操作类型        | 角色 - 权限关联表 + 分配记录 |
| CF-ROL-03 | 权限复制与重置 | 将某角色权限复制到另一角色，支持重置默认角色权限至初始配置   | 源角色 ID、目标角色 ID、重置选项 | 权限复制结果 + 重置记录      |

#### ***\*3.1.7 订单流转模式配置功能\****

 

| 功能 ID   | 功能名称         | 功能描述                                                     | 输入                         | 输出                        |
| --------- | ---------------- | ------------------------------------------------------------ | ---------------------------- | --------------------------- |
| CF-FLW-01 | 全局流转模式配置 | 配置销售 / 采购订单默认流转模式（自动 / 手动），自动模式固定流转至财务经理 | 订单类型、默认流转模式       | 全局流转配置 + 生效通知     |
| CF-FLW-02 | 流转通知配置     | 配置流转通知方式（系统消息 / 邮件 / 短信）、超时提醒时长（如 24 小时） | 通知方式、超时提醒时长、模板 | 通知配置生效 + 发送记录查询 |

### ***\*3.2 订单来源管理模块\****

#### ***\*3.2.1 服务商报备功能\****

 

| 功能 ID  | 功能名称     | 功能描述                                                     | 输入                    | 输出                        |
| -------- | ------------ | ------------------------------------------------------------ | ----------------------- | --------------------------- |
| OR-SP-01 | OCR 识别录入 | 上传订单凭证，自动识别客户、商品、国网价等信息，填充至报备单 | 订单凭证图片（PDF/JPG） | 结构化识别结果 + 表单填充   |
| OR-SP-02 | 智能校验     | 自动校验 “客户存在性、商品权限、价格计算正确性”，不通过提示错误项 | 识别结果、服务商 ID     | 校验结果（通过 / 错误提示） |
| OR-SP-03 | 报备单提交   | 校验通过后提交报备单，区域服务商自动关联其区域范围           | 报备单信息、区域范围    | 待审核报备单                |
| OR-SP-04 | 报备单审核   | 按服务商类型分配审核人（区域→区域经理，普通→总部），支持通过 / 驳回 | 审核结果、驳回原因      | 审核完成的报备单            |

#### ***\*3.2.2 平台订单录入功能\****

 

| 功能 ID  | 功能名称 | 功能描述                                                     | 输入               | 输出                     |
| -------- | -------- | ------------------------------------------------------------ | ------------------ | ------------------------ |
| OR-PF-01 | 手动录入 | 录入平台名称、平台订单号、国网价、数量、收货信息等，支持附件上传 | 平台订单信息、附件 | 待生成销售订单的平台订单 |

### ***\*3.3 销售订单管理模块\****

#### ***\*3.3.1 销售订单生成功能\****

 

| 功能 ID | 功能名称         | 功能描述                                                     | 输入                     | 输出                    |
| ------- | ---------------- | ------------------------------------------------------------ | ------------------------ | ----------------------- |
| SO-01   | 借码订单金额计算 | 弹窗手动配置点位（支持整单 / 单商品设置），金额 = 国网价 × 数量 × 点位 | 点位、国网价、数量       | 借码销售订单（含金额）  |
| SO-02   | 实供订单金额计算 | 自动判断区域属性，区域订单用区域价，非区域订单用服务商价，金额 = 对应价格 × 数量 | 区域信息、价格类型、数量 | 实供销售订单（含金额）  |
| SO-03   | 订单状态管理     | 支持 “待确认→已确认→采购中→完成” 状态流转，记录变更日志      | 状态变更操作             | 订单状态记录 + 变更日志 |

#### ***\*3.3.2 销售订单信息维护功能\****

 

| 功能 ID | 功能名称     | 功能描述                                                     | 输入                       | 输出                        |
| ------- | ------------ | ------------------------------------------------------------ | -------------------------- | --------------------------- |
| SO-04   | 发货信息维护 | 新增 / 修改 / 删除发货信息（物流公司、单号、时间、数量），删除需填原因 | 物流信息、删除原因（如需） | 发货信息列表 + 订单状态更新 |
| SO-05   | 发票信息维护 | 新增 / 修改 / 删除发票信息，上传扫描件，删除需校验 “未关联付款” | 发票信息、扫描件、删除原因 | 发票信息列表 + 金额统计     |
| SO-06   | 回款信息维护 | 新增 / 修改 / 删除回款信息，多次回款自动累加，满额更新为 “已回款” | 回款信息、删除原因（如需） | 回款信息列表 + 订单状态更新 |

#### ***\*3.3.3 销售订单权限控制\****

 

| 功能 ID | 功能名称         | 功能描述                                                     | 权限角色                                                   | 控制逻辑                |
| ------- | ---------------- | ------------------------------------------------------------ | ---------------------------------------------------------- | ----------------------- |
| SO-07   | 信息维护权限配置 | 按角色分配 “发货 / 发票 / 回款” 的新增 / 修改 / 删除权限，超权限提示无权限 | 运营（新增 / 修改）、财务（查看 + 删除）、管理员（全权限） | 权限实时生效 + 操作日志 |

#### ***\*3.3.4 手动创建销售订单审批功能\****

 

| 功能 ID | 功能名称         | 功能描述                                                     | 输入                       | 输出                       |
| ------- | ---------------- | ------------------------------------------------------------ | -------------------------- | -------------------------- |
| SO-08   | 手动订单提交审核 | 手动创建后提交审核，系统匹配审批流，通知第一个节点审批人     | 订单号、提交备注           | 订单状态→待审核 + 审核通知 |
| SO-09   | 审批操作         | 审批人查看详情，支持通过 / 驳回（需填原因），通过则流转至下一节点 / 生效 | 订单号、审核结果、驳回原因 | 订单状态更新 + 下一步处理  |
| SO-10   | 审批进度查看     | 查看审批进度（当前 / 已完成 / 待处理节点）及历史记录         | 订单号、查看权限校验       | 审批进度图 + 历史记录列表  |

#### ***\*3.3.5 销售订单流转功能\****

 

| 功能 ID | 功能名称         | 功能描述                                                     | 输入                        | 输出                           |
| ------- | ---------------- | ------------------------------------------------------------ | --------------------------- | ------------------------------ |
| SO-11   | 流转模式选择     | 订单生效后，按全局配置选择模式（自动→流转至财务经理，手动→指定接收人） | 流转模式、接收人 ID（如需） | 订单状态→待财务处理 + 流转日志 |
| SO-12   | 财务处理状态查看 | 查看财务处理状态（待处理 / 已确认 / 驳回），财务经理可编辑发票 / 回款信息 | 订单号、查看权限校验        | 财务状态标签 + 明细列表        |

### ***\*3.4 采购合同管理模块\****

#### ***\*3.4.1 采购订单生成功能\****

 

| 功能 ID | 功能名称     | 功能描述                                                     | 输入                      | 输出                        |
| ------- | ------------ | ------------------------------------------------------------ | ------------------------- | --------------------------- |
| PO-01   | 采购订单生成 | 关联销售订单，借码订单弹窗配置点位，实供订单用结算价，金额 = 对应规则 × 数量 | 销售订单 ID、点位（借码） | 采购订单（含金额）          |
| PO-02   | 金额对比展示 | 生成时显示销售金额与采购金额，自动计算毛利（销售 - 采购）    | 销售金额、采购金额        | 毛利数据 + 金额对比表       |
| PO-03   | 手动调整功能 | 特殊场景修改结算价，需填差异原因（如临时折扣）               | 调整后金额、差异原因      | 调整后的采购订单 + 原因记录 |

#### ***\*3.4.2 采购订单信息维护功能\****

 

| 功能 ID | 功能名称     | 功能描述                                                     | 输入                        | 输出                        |
| ------- | ------------ | ------------------------------------------------------------ | --------------------------- | --------------------------- |
| PO-07   | 发票信息维护 | 新增 / 修改 / 删除发票信息（号、日期、金额、类型），支持关联多张发票 | 发票信息、删除原因（如需）  | 发票信息列表 + 金额统计     |
| PO-08   | 付款信息维护 | 新增 / 修改 / 删除付款信息，多次付款自动累加，满额更新为 “已付清”，删除需审批 | 付款信息、删除原因 + 审批人 | 付款信息列表 + 订单状态更新 |

#### ***\*3.4.3 采购订单权限控制\****

 

| 功能 ID | 功能名称         | 功能描述                                                     | 权限角色                                                   | 控制逻辑                |
| ------- | ---------------- | ------------------------------------------------------------ | ---------------------------------------------------------- | ----------------------- |
| PO-09   | 信息维护权限配置 | 按角色分配 “发票 / 付款” 的新增 / 修改 / 删除权限，删除需财务审批 | 采购（新增 / 修改）、财务（查看 + 删除）、管理员（全权限） | 权限实时生效 + 操作日志 |

#### ***\*3.4.4 手动创建采购订单审批功能\****

 

| 功能 ID | 功能名称         | 功能描述                                                     | 输入                       | 输出                       |
| ------- | ---------------- | ------------------------------------------------------------ | -------------------------- | -------------------------- |
| PO-10   | 手动订单提交审核 | 手动创建后提交审核，系统匹配审批流，通知第一个节点审批人     | 订单号、提交备注           | 订单状态→待审核 + 审核通知 |
| PO-11   | 审批操作         | 审批人查看详情（含关联销售订单），支持通过 / 驳回（需填原因） | 订单号、审核结果、驳回原因 | 订单状态更新 + 下一步处理  |
| PO-12   | 审批进度查看     | 查看审批进度及历史记录，支持跳转至关联销售订单               | 订单号、查看权限校验       | 审批进度图 + 历史记录列表  |

#### ***\*3.4.5 采购订单流转功能\****

 

| 功能 ID | 功能名称         | 功能描述                                                     | 输入                        | 输出                           |
| ------- | ---------------- | ------------------------------------------------------------ | --------------------------- | ------------------------------ |
| PO-13   | 流转模式选择     | 订单生效后，按全局配置选择模式（自动→财务经理，手动→指定接收人） | 流转模式、接收人 ID（如需） | 订单状态→待财务处理 + 流转日志 |
| PO-14   | 财务处理状态查看 | 查看财务处理状态，财务经理可编辑发票 / 付款信息，其他角色仅查看 | 订单号、查看权限校验        | 财务状态标签 + 明细列表        |

#### ***\*3.4.6 采购对账单生成功能\****

 

| 功能 ID | 功能名称         | 功能描述                                                     | 输入                           | 输出                               |
| ------- | ---------------- | ------------------------------------------------------------ | ------------------------------ | ---------------------------------- |
| PO-04   | 采购订单筛选     | 按时间范围（必填）、供应商、订单状态筛选订单，支持分页 / 导出 | 筛选条件（时间、供应商、状态） | 符合条件的订单列表                 |
| PO-05   | 对账单自动生成   | 基于筛选 / 勾选订单生成对账单，含基础信息、明细、总金额，支持标注差异 | 订单集合、差异说明（如需）     | 对账单 + 导出文件（Excel/PDF）     |
| PO-06   | 对账单预览与确认 | 预览对账单，确认无误后保存，差异项需填原因                   | 确认操作、差异原因（如需）     | 对账单状态→待对账 + 同步至管理模块 |

### ***\*3.5 客户管理模块\****

 

| 功能 ID | 功能名称     | 功能描述                                                     | 输入               | 输出                |
| ------- | ------------ | ------------------------------------------------------------ | ------------------ | ------------------- |
| CU-01   | 客户信息维护 | 维护客户名称、编码（唯一）、区域、联系人、状态（正常 / 禁用） | 客户信息           | 客户信息表          |
| CU-02   | 客户快速查询 | 按名称 / 编码模糊搜索客户，显示状态与历史订单                | 搜索关键词         | 客户列表 + 历史订单 |
| CU-03   | 批量导入导出 | 支持 Excel 批量导入客户信息，导出客户列表（含状态）          | Excel 文件（导入） | 导入结果 + 导出文件 |

### ***\*3.6 流程监控与报表模块\****

#### ***\*3.6.1 订单状态看板功能\****

 

| 功能 ID | 功能名称     | 功能描述                                                   | 输入               | 输出                    |
| ------- | ------------ | ---------------------------------------------------------- | ------------------ | ----------------------- |
| MO-01   | 订单状态看板 | 可视化展示各环节订单数量（待审核报备单、待生成采购订单等） | 时间范围、订单类型 | 状态分布图表 + 待办清单 |

#### ***\*3.6.2 财务报表功能\****

 

| 功能 ID | 功能名称     | 功能描述                                                     | 输入               | 输出                    |
| ------- | ------------ | ------------------------------------------------------------ | ------------------ | ----------------------- |
| MO-02   | 财务报表生成 | 按时间段 / 服务商 / 产品统计销售金额、采购金额、毛利，支持导出 | 统计维度、时间范围 | 财务统计报表 + 导出文件 |

#### ***\*3.6.3 操作日志查询功能\****

 

| 功能 ID | 功能名称     | 功能描述                                                     | 输入             | 输出         |
| ------- | ------------ | ------------------------------------------------------------ | ---------------- | ------------ |
| MO-03   | 操作日志查询 | 记录关键操作（报备提交、审核、订单生成），支持按操作人 / 时间查询 | 操作人、时间范围 | 操作日志列表 |

#### ***\*3.6.4 对账单管理功能\****

 

| 功能 ID | 功能名称       | 功能描述                                                     | 输入                       | 输出                    |
| ------- | -------------- | ------------------------------------------------------------ | -------------------------- | ----------------------- |
| MO-04   | 对账单列表查看 | 按对账单编号、供应商、周期、状态筛选对账单，支持分页         | 筛选条件                   | 对账单列表              |
| MO-05   | 对账单详情查看 | 查看对账单完整信息（基础信息、明细、差异记录），支持导出     | 对账单编号                 | 对账单详情页 + 导出明细 |
| MO-06   | 对账单状态更新 | 更新对账单状态（待对账 / 已对账 / 有差异），需填对账日期 / 差异原因 | 对账单编号、状态、补充信息 | 状态变更记录 + 同步列表 |

#### ***\*3.6.5 审批统计功能\****

 

| 功能 ID | 功能名称       | 功能描述                                                     | 输入                       | 输出                        |
| ------- | -------------- | ------------------------------------------------------------ | -------------------------- | --------------------------- |
| MO-07   | 审批效率统计   | 统计待审核订单数、已通过数、平均审核时长，按审批人 / 时间分组 | 时间范围、订单类型、审批人 | 统计图表 + 明细报表         |
| MO-08   | 待审核订单提醒 | 展示当前用户待审核订单，支持一键处理                         | 当前用户 ID                | 待审核订单列表 + 未读提醒数 |

#### ***\*3.6.6 流转日志统计功能\****

 

| 功能 ID | 功能名称     | 功能描述                                               | 输入             | 输出                           |
| ------- | ------------ | ------------------------------------------------------ | ---------------- | ------------------------------ |
| MO-09   | 流转日志查询 | 按订单类型、模式、时间、接收人筛选流转记录，查看详情   | 筛选条件         | 流转日志列表 + 详情弹窗        |
| MO-10   | 流转效率统计 | 统计待财务处理数、已处理数、平均处理时长，按接收人分组 | 时间范围、接收人 | 效率图表 + 明细统计 + 超时预警 |

#### ***\*3.6.7 订单数据看板功能\****

 

| 功能 ID | 功能名称       | 功能描述                                                     | 输入                         | 输出                           |
| ------- | -------------- | ------------------------------------------------------------ | ---------------------------- | ------------------------------ |
| MO-11   | 平台订单看板   | 展示平台实供订单金额 / 利润（今日 / 本周 / 本月）、趋势图、待处理事项 | 时间维度切换、刷新操作       | 指标卡片 + 趋势图 + 待办列表   |
| MO-12   | 服务商订单看板 | 展示服务商实供 / 借码订单金额 / 利润、服务商排名、订单方式占比 | 时间维度切换、订单方式筛选   | 分类指标卡片 + 排名 / 占比图表 |
| MO-13   | 看板自定义配置 | 自定义看板布局、隐藏指标、设置自动刷新频率（5/10/30 分钟）   | 布局操作、显示选择、频率设置 | 自定义看板 + 配置记忆          |

#### ***\*3.6.8 多维度报备统计功能\****

 

| 功能 ID | 功能名称         | 功能描述                                                     | 输入                         | 输出                                        |
| ------- | ---------------- | ------------------------------------------------------------ | ---------------------------- | ------------------------------------------- |
| MO-14   | 多维度筛选统计   | 按时间 / 平台 / 服务商 / 订单方式 / 报备状态筛选，展示统计概览与明细，支持导出 | 筛选条件组合                 | 统计卡片 + 状态饼图 + 明细表格 + 导出文件   |
| MO-15   | 商品销售金额排名 | 按时间范围筛选，展示 Top10/20/50 商品销售金额排名，支持按金额 / 数量排序 | 时间范围、排名数量、排序维度 | 排名表格 + 柱状图 + 导出文件                |
| MO-16   | 通用报备统计     | 统计报备审核效率、服务商报备量排名、月度报备趋势，支持图表导出 | 时间范围、统计类型           | 效率折线图 + 排名柱状图 + 趋势图 + 导出文件 |


#### ***\*3.8 开票模块\****

功能

 维护客户的开票信息，财务可以根据订单来开票

 

## ***\*四、非功能需求\****

### ***\*4.1 性能需求\****

**1.** ***\*基础响应速度\****：

◦ 表单提交（如报备单、订单录入）响应≤1.5 秒；

◦ 列表分页查询（每页 20 条）响应≤1 秒；

◦ 合同模板生成（15 行商品）响应≤2 秒。


**1.** ***\*统计与看板性能\****：

◦ 多维度筛选统计（≤1 万条数据）响应≤2 秒；

◦ 看板初始加载≤2 秒，手动刷新≤1.5 秒；

◦ 商品排名统计（Top50，≤3 个月数据）响应≤2.5 秒。


**1.** ***\*并发与数据量性能\****：

◦ 支持 100 + 用户同时在线操作，50 + 服务商同时报备无卡顿；

◦ 数据量＞10 万条时，自动分页加载，分页切换≤0.5 秒；

◦ 连续查询 100 次无崩溃，失败率≤0.5%（失败自动重试 1 次）。

### ***\*4.2 安全性需求\****

**1.** ***\*数据安全\****：

◦ 客户信息、价格数据加密存储（AES-256），传输采用 HTTPS 协议；

◦ 敏感金额（如利润）在非财务角色视图中脱敏展示（如 “12***.00 元”）。

**1.** ***\*权限安全\****：

◦ 按角色最小权限原则分配功能，超权限操作拦截并记录日志；

◦ 超级管理员权限变更需二次验证（手机验证码）。

**1.** ***\*备份与恢复\****：

◦ 每日自动全量备份数据，保留 30 天备份记录；

◦ 支持 7 天内任意时间点数据恢复，恢复时长≤30 分钟。

### ***\*4.3 易用性需求\****

**1.** ***\*界面设计\****：

◦ 表单必填项标红，错误提示明确（如 “客户不存在，请联系管理员添加”）；

◦ 核心操作（如生成订单、提交审核）按钮突出显示，位置统一。

**1.** ***\*操作便捷性\****：

◦ 支持 “一键生成订单”“批量导入 / 导出”，常用筛选条件可保存；

◦ 订单详情页关联展示上下游数据（如销售订单关联采购订单、对账单）。

**1.** ***\*引导与帮助\****：

◦ 关键功能（OCR 上传、点位配置）提供操作说明弹窗；

◦ 新手用户首次登录展示引导教程（分步指引核心流程）。

**1.** ***\*交互友好性\****：

◦ AI 查询输入错误时提供引导（如 “商品型号格式应为‘PROD+6 位数字’”）；

◦ 复杂查询（跨年度统计）显示加载进度条（如 “查询中，已完成 60%”）。

### ***\*4.4 可扩展性需求\****

**1.** ***\*功能扩展\****：

◦ 预留平台订单 API 对接接口（未来支持平台订单自动同步）；

◦ AI 模块支持后续新增功能（如 “订单风险预警”“智能审批建议”）。

**1.** ***\*规则配置\****：

◦ 价格计算规则、审批流程、流转模式支持可视化配置，无需代码修改；

◦ 新增商品类别、区域时，系统自动适配现有流程，无需重构。

**1.** ***\*集成扩展\****：

◦ 支持与财务系统对接（自动同步订单金额、付款信息）；

◦ 支持与物流系统对接（自动获取物流轨迹，更新发货状态）。

### ***\*4.5 权限需求\****

**1.** ***\*角色权限细分\****：

◦ 按 “功能 + 操作” 配置权限（如 “销售订单 - 发货信息 - 新增”“采购订单 - 付款信息 - 删除”）；

◦ 数据权限按角色控制（员工仅看自己创建的订单，管理员看所有）。

**1.** ***\*权限管理\****：

◦ 支持角色复制、权限批量调整，权限变更记录持久化存储；

◦ 定期生成权限审计报表（如 “近 30 天权限变更记录”“超权限操作记录”）。

### ***\*4.6 通知需求\****

**1.** ***\*审批通知\****：

◦ 订单提交审核后，通知审批人；审核结果通知创建人；超时未审核提醒审批人及管理员。

**1.** ***\*流转通知\****：

◦ 订单流转后，通知接收人（如 “订单已流转至您，需处理发票信息”）；

◦ 财务处理完成后，通知订单创建人（如 “订单财务已确认”）。

**1.** ***\*系统通知\****：

◦ 数据备份成功 / 失败、系统版本更新等重要事件，通知管理员；

◦ 订单状态变更（如 “已发货”“已回款”），通知相关负责人。

### ***\*4.7 权限安全性需求\****

**1.** ***\*权限隔离\****：

◦ 财务相关操作（发票 / 回款 / 付款维护）仅允许财务经理执行，其他角色无法访问；

◦ 敏感配置（如点位、价格）仅管理员 / 超级管理员可修改，操作需二次确认。

**1.** ***\*日志审计\****：

◦ 所有权限变更、超权限操作、敏感数据访问均记录日志，日志不可篡改；

◦ 支持按时间范围、操作人、操作类型查询审计日志，导出审计报表。
